(function($){$.fn.zclip=function(params){if(typeof params!="object"||params.length){if(typeof params=="string")return this.each(function(){var o=$(this),zclipId,clipElm;params=params.toLowerCase(),zclipId=o.data("zclipId"),clipElm=$("#"+zclipId+".zclip"),params=="remove"?(clipElm.remove(),o.removeClass("active hover")):params=="hide"?(clipElm.hide(),o.removeClass("active hover")):params=="show"&&clipElm.show()})}else{var settings=$.extend({path:"ZeroClipboard.swf",copy:null,beforeCopy:null,afterCopy:null,clickAfter:!0,setHandCursor:!0,setCSSEffects:!0},params);return this.each(function(){var o=$(this),clip;o.is(":visible")&&(typeof settings.copy=="string"||$.isFunction(settings.copy))&&(ZeroClipboard.setMoviePath(settings.path),clip=new ZeroClipboard.Client,$.isFunction(settings.copy)&&o.bind("zClip_copy",settings.copy),$.isFunction(settings.beforeCopy)&&o.bind("zClip_beforeCopy",settings.beforeCopy),$.isFunction(settings.afterCopy)&&o.bind("zClip_afterCopy",settings.afterCopy),clip.setHandCursor(settings.setHandCursor),clip.setCSSEffects(settings.setCSSEffects),clip.addEventListener("mouseOver",function(client){o.trigger("mouseenter")}),clip.addEventListener("mouseOut",function(client){o.trigger("mouseleave")}),clip.addEventListener("mouseDown",function(client){o.trigger("mousedown"),$.isFunction(settings.copy)?clip.setText(o.triggerHandler("zClip_copy")):clip.setText(settings.copy),$.isFunction(settings.beforeCopy)&&o.trigger("zClip_beforeCopy")}),clip.addEventListener("complete",function(client,text){$.isFunction(settings.afterCopy)?o.trigger("zClip_afterCopy"):(text.length>500&&(text=text.substr(0,500)+"...\n\n("+(text.length-500)+" characters not shown)"),o.removeClass("hover"),alert("Copied text to clipboard:\n\n "+text)),settings.clickAfter&&o.trigger("click")}),clip.glue(o[0],o.parent()[0]),$(window).bind("load resize",function(){clip.reposition()}))})}}})(jQuery);var ZeroClipboard={version:"1.0.7",clients:{},moviePath:"ZeroClipboard.swf",nextId:1,$:function(thingy){return typeof thingy=="string"&&(thingy=document.getElementById(thingy)),thingy.addClass||(thingy.hide=function(){this.style.display="none"},thingy.show=function(){this.style.display=""},thingy.addClass=function(name){this.removeClass(name),this.className+=" "+name},thingy.removeClass=function(name){for(var classes=this.className.split(/\s+/),idx=-1,k=0;k<classes.length;k++)classes[k]==name&&(idx=k,k=classes.length);return idx>-1&&(classes.splice(idx,1),this.className=classes.join(" ")),this},thingy.hasClass=function(name){return!!this.className.match(new RegExp("\\s*"+name+"\\s*"))}),thingy},setMoviePath:function(path){this.moviePath=path},dispatch:function(id,eventName,args){var client=this.clients[id];client&&client.receiveEvent(eventName,args)},register:function(id,client){this.clients[id]=client},getDOMObjectPosition:function(obj,stopObj){var info={left:0,top:0,width:obj.width?obj.width:obj.offsetWidth,height:obj.height?obj.height:obj.offsetHeight};return obj&&obj!=stopObj&&(info.left+=obj.offsetLeft,info.top+=obj.offsetTop),info},Client:function(elem){this.handlers={},this.id=ZeroClipboard.nextId++,this.movieId="ZeroClipboardMovie_"+this.id,ZeroClipboard.register(this.id,this),elem&&this.glue(elem)}};ZeroClipboard.Client.prototype={id:0,ready:!1,movie:null,clipText:"",handCursorEnabled:!0,cssEffects:!0,handlers:null,glue:function(elem,appendElem,stylesToAdd){var zIndex,box,style;if(this.domElement=ZeroClipboard.$(elem),zIndex=99,this.domElement.style.zIndex&&(zIndex=parseInt(this.domElement.style.zIndex,10)+1),typeof appendElem=="string"?appendElem=ZeroClipboard.$(appendElem):typeof appendElem=="undefined"&&(appendElem=document.getElementsByTagName("body")[0]),box=ZeroClipboard.getDOMObjectPosition(this.domElement,appendElem),this.div=document.createElement("div"),this.div.className="zclip",this.div.id="zclip-"+this.movieId,$(this.domElement).data("zclipId","zclip-"+this.movieId),style=this.div.style,style.position="absolute",style.left=""+box.left+"px",style.top=""+box.top+"px",style.width=""+box.width+"px",style.height=""+box.height+"px",style.zIndex=zIndex,typeof stylesToAdd=="object")for(addedStyle in stylesToAdd)style[addedStyle]=stylesToAdd[addedStyle];appendElem.appendChild(this.div),$(this.div).html(this.getHTML(box.width,box.height))},getHTML:function(width,height){var html="",flashvars="id="+this.id+"&width="+width+"&height="+height;return html+('<embed id="'+this.movieId+'" src="'+ZeroClipboard.moviePath+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+width+'" height="'+height+'" name="'+this.movieId+'" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+flashvars+'" wmode="transparent" />')},hide:function(){this.div&&(this.div.style.left="-2000px")},show:function(){this.reposition()},destroy:function(){if(this.domElement&&this.div){this.hide(),this.div.innerHTML="";var body=document.getElementsByTagName("body")[0];try{body.removeChild(this.div)}catch(e){}this.domElement=null,this.div=null}},reposition:function(elem){if(elem&&(this.domElement=ZeroClipboard.$(elem),this.domElement||this.hide()),this.domElement&&this.div){var box=ZeroClipboard.getDOMObjectPosition(this.domElement),style=this.div.style;style.left=""+box.left+"px",style.top=""+box.top+"px"}},setText:function(newText){this.clipText=newText,this.ready&&this.movie.setText(newText)},addEventListener:function(eventName,func){eventName=eventName.toString().toLowerCase().replace(/^on/,""),this.handlers[eventName]||(this.handlers[eventName]=[]),this.handlers[eventName].push(func)},setHandCursor:function(enabled){this.handCursorEnabled=enabled,this.ready&&this.movie.setHandCursor(enabled)},setCSSEffects:function(enabled){this.cssEffects=!!enabled},receiveEvent:function(eventName,args){var self,idx,len,func;eventName=eventName.toString().toLowerCase().replace(/^on/,"");switch(eventName){case"load":if(this.movie=document.getElementById(this.movieId),!this.movie){self=this,setTimeout(function(){self.receiveEvent("load",null)},1);return}if(!this.ready&&navigator.userAgent.match(/Firefox/)&&navigator.userAgent.match(/Windows/)){self=this,setTimeout(function(){self.receiveEvent("load",null)},100),this.ready=!0;return}this.ready=!0;try{this.movie.setText(this.clipText)}catch(e){}try{this.movie.setHandCursor(this.handCursorEnabled)}catch(e){}break;case"mouseover":this.domElement&&this.cssEffects&&(this.domElement.addClass("hover"),this.recoverActive&&this.domElement.addClass("active"));break;case"mouseout":this.domElement&&this.cssEffects&&(this.recoverActive=!1,this.domElement.hasClass("active")&&(this.domElement.removeClass("active"),this.recoverActive=!0),this.domElement.removeClass("hover"));break;case"mousedown":this.domElement&&this.cssEffects&&this.domElement.addClass("active");break;case"mouseup":this.domElement&&this.cssEffects&&(this.domElement.removeClass("active"),this.recoverActive=!1);break}if(this.handlers[eventName])for(idx=0,len=this.handlers[eventName].length;idx<len;idx++)func=this.handlers[eventName][idx],typeof func=="function"?func(this,args):typeof func=="object"&&func.length==2?func[0][func[1]](this,args):typeof func=="string"&&window[func](this,args)}}