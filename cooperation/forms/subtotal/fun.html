<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head id="Head1">
<meta charset="UTF-8">

    <title></title>
    <link href="yunStyle.css" rel="stylesheet" type="text/css">
    <link href="btnStyle.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="../../../lib/js/jquery-1.12.2.min.js"></script>
    <script type="text/javascript" src="../datapicker/WdatePicker.js"></script>



    <link href="../datapicker/WdatePicker.css" rel="stylesheet" type="text/css">

    <script type="text/javascript" src="main.js"></script>
<script type="text/javascript" src="../ECharts/echarts.js"></script>
    <link href="mainStyleCS_001.css" rel="stylesheet" type="text/css">

    <style type="text/css">

#rbtnMN input { border: 0px none; }
#GridView1 input { border: 0px none; }
.mainDiv { border: 1px solid rgb(204, 204, 204); padding: 0px; }
.Detail_Css { background-image: url("Detail_2.jpg"); border: 0px none; }
.Bar_Css { background-image: url("Pie_2.jpg"); border: 0px none; }
.Line_Css { background-image: url("Line_1.jpg"); border: 0px none; }
.Num_Css { background-image: url("Num_1.jpg"); border: 0px none; }
.lbtn { color: rgb(36, 118, 156); font-size: small; text-decoration: none; }
a { color: rgb(33, 63, 113); font-size: 9pt; text-decoration: none; }
a:hover { color: rgb(235, 137, 35); }
</style>

    <script type="text/javascript">
        var objDivZ;
        var Pagename = "fun"
    </script>
    <link href="P3TableStyles.css" rel="stylesheet" type="text/css">
    <style type="text/css">

input { font-size: 10px; color: rgb(102, 102, 102); border: 1px solid Silver; padding-left: 3px; }
</style>
</head>
<body onload="parent.document.getElementById('mainFrame').height = document.body.scrollHeight > 693 ?document.body.scrollHeight+10:700;">
    <form  id="form1">

        <table width="100%" cellspacing="0" cellpadding="0" border="0">
            <tbody><tr>
                <td style="height: 2px;" colspan="3"></td>
            </tr>
            <tr>
                <td colspan="3" style="height: 660px;" class="P3mainDiv" valign="top">
                    <table width="100%" cellspacing="2" cellpadding="0" border="0">
                        <tbody><tr>
                            <td style="height: 24px; width: 10px;"></td>
                            <td style="min-width: 940px;">
                                <table width="100%" cellspacing="0" cellpadding="0" border="0">
                                    <tbody><tr>
                                        <td class="mainTopTitle">
                                            <span class="P3PageTitle">
                                                <br>
                                                <span id="lblTitle">乐天堂汇总报表</span>
                                                <br>
                                                <br>
                                            </span>
                                        </td>
                                        <td align="right">
                                            <br>
                                            <table style="height: 22px; background-color: White;" cellspacing="0" cellpadding="0">
                                                <tbody><tr>
                                                    <td style="width: 85px; border-left: 1px solid; border-top: 1px solid; border-bottom: 1px solid;" align="center">
                                                        <span id="lblBeginDate">2017-01-01</span>
                                                    </td>
                                                    <td style="border-top: 1px solid; border-bottom: 1px solid;">&nbsp;—&nbsp;</td>
                                                    <td style="width: 85px; border-top: 1px solid; border-bottom: 1px solid; border-right: 1px solid;" align="center">
                                                        <span id="lblEndDate">2017-01-09</span>
                                                    </td>
                                                    <td id="tdSelTab" style="width: 15px; background-color: rgb(238, 238, 238); cursor: pointer; font-weight: normal; font-size: 14px;" onclick="showDivDate(this)" align="center">↓

                                                    </td>
                                                </tr>
                                            </tbody></table>
                                            <br>
                                        </td>
                                    </tr>
                                    <tr align="right">
                                        <td colspan="2">


                                            <div id="UpdatePanel1">
	
                                                    <span id="lb_DataLastUpdate">报告数据最后更新时间 ： <b>2017-01-09 12:11</b></span>
                                                
</div>
                                        </td>
                                    </tr>
                                </tbody></table>
                            </td>
                            <td style="height: 24px; width: 10px;"></td>
                        </tr>

                        <tr id="trempty">
	<td colspan="3"></td>
</tr>

                        <tr>
                            <td>&nbsp;</td>
                            <td class="titleGray" valign="bottom">
                        <input name="btnNumbers" value="数量" id="btnNumbers" class="Btn_Cls" style="height: 22px; width: 63px;" type="button">
                                <input name="btnMoney" value="金额" id="btnMoney" class="Money_Css" style="height: 22px;" type="button">
                            </td>
                            <td>&nbsp;</td>
                        </tr>
                        <tr>
                            <td>&nbsp;&nbsp;&nbsp;</td>
                            <td valign="top" align="center">
                                <table class="main_bg" style="width: 100%;" cellspacing="0" border="0">
                                    <tbody><tr id="trlist">
	<td colspan="3" valign="top" align="center">
                                            <div>

	</div>
                                            
                                            
                                        </td>
</tr>
<tr class="amountChart">
    <td id="amountChart"  align="center" style="width:982px;height:340px;">
        
    </td>

</tr>
<tr class="moneyChart" >
    <td id="moneyChart" align="center" style="width:982px;height:340px;display:none">
        
    </td>

</tr>


 </tbody></table>
                            </td>
                            <td>&nbsp;&nbsp;&nbsp;</td>
                        </tr>
<script>


    var amountChart = echarts.init(document.getElementById('amountChart'));
    var moneyChart =  echarts.init(document.getElementById('moneyChart'));

amountChartoption = {
    title: {
        text: '乐天堂汇总报表',
        subtext: '折线图'
    },
    tooltip: {
        trigger: 'axis'
    },
    legend: {
        data:['注册人数','首次存款会员','活跃会员'],
        bottom:320
    },
    toolbox: {
        show: true,
        feature: {
            dataZoom: {
                yAxisIndex: 'none'
            },
            dataView: {readOnly: false},
            magicType: {type: ['line', 'bar']},
            restore: {},
            saveAsImage: {}
        }
    },
    xAxis:  {
        type: 'time',
        boundaryGap: false,
        data: []
    },
    yAxis: {
        type: 'value',
        axisLabel: {
            formatter: '{value} 个'
        }
    },
    series: [
        {
            name:'注册人数',
            type:'line',
            data:[11, 11, 15, 13, 12, 13, 10],

            markLine: {
                data: [
                    {type: 'average', name: '平均值'}
                ]
            }
        },
        {
            name:'首次存款会员',
            type:'line',
            data:[10, 2, 8, 5, 4, 7, 5],

            markLine: {
                data: [
                    {type: 'average', name: '平均值'},
                    [{
                        symbol: 'none',
                        x: '90%',
                        yAxis: 'max'
                    }, {
                        symbol: 'circle',
                        label: {
                            normal: {
                                position: 'start',
                                formatter: '最大值'
                            }
                        },
                        type: 'max',
                        name: '最高点'
                    }]
                ]
            }
        },
        {
            name:'活跃会员',
            type:'line',
            data:[4, 8, 4, 2, 5, 11, 3],

            markLine: {
                data: [
                    {type: 'average', name: '平均值'},
                    [{
                        symbol: 'none',
                        x: '90%',
                        yAxis: 'max'
                    }, {
                        symbol: 'circle',
                        label: {
                            normal: {
                                position: 'start',
                                formatter: '最大值'
                            }
                        },
                        type: 'max',
                        name: '最高点'
                    }]
                ]
            }
        }

    ]
};


moneyChartoption = {
    title: {
        text: '乐天堂汇总报表',
        subtext: '纯属虚构'
    },
    tooltip: {
        trigger: 'axis'
    },
    legend: {
        data:['存款总额','下注金额','公司输赢'],
        bottom:320
    },
    toolbox: {
        show: true,
        feature: {
            dataZoom: {
                yAxisIndex: 'none'
            },
            dataView: {readOnly: false},
            magicType: {type: ['line', 'bar']},
            restore: {},
            saveAsImage: {}
        }
    },
    xAxis:  {
        type: 'time',
        boundaryGap: false,
        data: []
    },
    yAxis: {
        type: 'value',
        axisLabel: {
            formatter: '{value} 个'
        }
    },
    series: [
        {
            name:'存款总额',
            type:'line',
            data:[2, 4, 9, 14, 18, 15, 4],

            markLine: {
                data: [
                    {type: 'average', name: '平均值'}
                ]
            }
        },
        {
            name:'下注金额',
            type:'line',
            data:[10, 2, 8, 5, 4, 7, 5],

            markLine: {
                data: [
                    {type: 'average', name: '平均值'},
                    [{
                        symbol: 'none',
                        x: '90%',
                        yAxis: 'max'
                    }, {
                        symbol: 'circle',
                        label: {
                            normal: {
                                position: 'start',
                                formatter: '最大值'
                            }
                        },
                        type: 'max',
                        name: '最高点'
                    }]
                ]
            }
        },
        {
            name:'公司输赢',
            type:'line',
            data:[4, 8, 4, 2, 5, 11, 3],

            markLine: {
                data: [
                    {type: 'average', name: '平均值'},
                    [{
                        symbol: 'none',
                        x: '90%',
                        yAxis: 'max'
                    }, {
                        symbol: 'circle',
                        label: {
                            normal: {
                                position: 'start',
                                formatter: '最大值'
                            }
                        },
                        type: 'max',
                        name: '最高点'
                    }]
                ]
            }
        }

    ]
};

        // 使用刚指定的配置项和数据显示图表。
         amountChart.setOption(amountChartoption);
         moneyChart.setOption(moneyChartoption);
/*数量图*/
$('#btnNumbers').click(function(){

$("#amountChart").css("display", "block");
   amountChart.resize({
    width:'982',
    height:'340'
})

$('#moneyChart').css("display", "none");

});


/*金钱图*/
$('#btnMoney').click(function(){
   
    $('#moneyChart').css("display", "block");

    moneyChart.resize({
    width:'982',
    height:'340'
});
$("#amountChart").css("display", "none");

});


</script>

                        <tr>
                            <td></td>
                            <td colspan="2">
                                <input name="btnLine" value="线图" id="btnLine" class="Line_Css" style="font-size: 12px; height: 22px; width: 120px;" type="submit">
                                <input name="btnDetailed" value="报表详情" id="btnDetailed" class="Detail_Css" style="height: 22px; width: 137px;" type="submit"></td>
                        </tr>
                        <tr style="border: 0px none;">
                            <td>&nbsp;</td>
                            <td class="titleGray" valign="baseline">
                                <br>

                                <div>
	<table class="GV_Row" rules="all" id="GridView1" style="width: 100%; border-collapse: collapse;" cellspacing="0" border="1">
		<tbody><tr class="GV_Header" style="height: 25px;" align="center">
			<th scope="col" style="font-size: 10px;">产品</th><th scope="col" style="font-size: 10px;">点击量</th><th scope="col" style="font-size: 10px;">注册人数</th><th scope="col" style="font-size: 10px;">首次存款会员数</th><th scope="col" style="font-size: 10px;">活跃会员</th><th scope="col" style="font-size: 10px;">首次存款额</th><th scope="col" style="font-size: 10px;">存款总额</th><th scope="col" style="font-size: 10px;">下注量</th><th scope="col" style="font-size: 10px;">下注金额</th><th scope="col" style="font-size: 10px;">公司输赢</th>
		</tr><tr class="GV_Row" style="font-weight: normal; height: 26px;">
			<td align="center">
                                                <a id="GridView1_linkbtnFun88_0" href="javascript:__doPostBack('GridView1$ctl02$linkbtnFun88','')">乐天堂</a>
                                            </td><td style="width: 50px;" align="center">
                                                0
                                            </td><td style="width: 80px;" align="center">
                                                0
                                            </td><td style="width: 80px;" align="center">
                                                0
                                            </td><td align="center">
                                                0
                                            </td><td align="right">
                                                0.00
                                            </td><td align="right">
                                                0.00
                                            </td><td align="center">
                                                0
                                            </td><td align="right">
                                                0.00
                                            </td><td align="right">
                                                0.00
                                            </td>
		</tr>
	</tbody></table>
</div>
                            </td>
                            <td>&nbsp;
                            </td>
                        </tr>
                    </tbody></table>
                    &nbsp; &nbsp; &nbsp;
                </td>
            </tr>
        </tbody></table>
        <div id="divSelectDate" style="position: absolute; margin-left: -20px; background-color: rgb(238, 238, 238); width: 180px; display: none; z-index: 300; border-right: 1px solid rgb(51, 51, 51); border-left: 1px solid rgb(51, 51, 51); border-bottom: 1px solid rgb(51, 51, 51);">
            <center>

                <br>
                <div style="width: 100%;">
                    <div id="divSelDateByDay">
                        <input name="txtBeginDate" id="txtBeginDate" style="width: 70px;"  maxlength="20" onClick="WdatePicker({
                        onpicking:function(dp){
                       getdatepicker($dp.cal.getNewDateStr(),'txtBeginDate');
                         }
                        });" type="text">
                        —
                        <input name="txtEndDate" id="txtEndDate" onClick="WdatePicker({
                        onpicking:function(dp){
                       getdatepicker($dp.cal.getNewDateStr(),'txtEndDate');
                         }
                        });" style="width: 70px;" readonly="readOnly" maxlength="20" type="text">
                    </div>

                </div>
                <br>
                <div style="width: 100%;">
                    <input name="btnDataOk" value="确定" id="btnDataOk" type="button" onclick="posttime();">
                    <input name="btnDateCancel" value="取消" onclick="showDivDate(document.getElementById('tdSelTab'));return false;" id="btnDateCancel" type="button">
                </div>
            </center>  
        </div>
        <br>
        <br>
    </form>

<script>


var LoginUserName =  $("#LoginUserName",parent.document).html(); 

        //按照日期
        var DayBegintime 
        var DayEndtime 

        //按照月份
        var MonthBeginTime; 
        var MonthEndTime  


var PostBeginTime,DayBeginTime
var PostEndTime,DayEndTime



    function cc(dd, dadd) {
        var a = new Date(dd)
        a = a.valueOf()
        a = a + dadd * 24 * 60 * 60 * 1000
        a = new Date(a)

        return a;
    }


    var date1 = new Date("2017-01-01");
    var date2 = new Date("2017-01-10");

    var list = [];

    for (var d = date1; d.valueOf() <= date2.valueOf() ; d = cc(d, 1)) {
        //console.log(d.getFullYear() + "-" + (d.getMonth() + 1) + "-" + d.getDate());
        var s = d.getFullYear() + "-" + ("00" + (d.getMonth() + 1)).slice(-2) + "-" + ("00" + d.getDate()).slice(-2);
        list.push({date:s, betAmount:0});
    }

function getdatepicker(time,inputid){
	if (inputid=="txtBeginDate") {		
		DayBeginTime = time
		
	}else if(inputid=="txtEndDate"){
		DayEndTime = time
		
	}else if(inputid=="txtBeginMonth"){
		MonthBeginTime = time
	}else if(inputid=="txtEndMonth"){
		MonthEndTime = time
	}
	
}

function posttime (){
          
if ( $("#divSelDateByMonth").is(":hidden")) {
    PostBeginTime =DayBeginTime
    PostEndTime = DayEndTime

}else{
    PostBeginTime = MonthBeginTime
    PostEndTime =MonthEndTime
}


  alert(PostBeginTime);
  alert(PostEndTime)

    };





 /*   $("#btnDataOk").click(function(){*/




//发送 用户名LoginUserName 报表名Pagename  时间范围 开始Begintime 结束Endtime
/*       $.post(" ",{
            UserName:LoginUserName,
            url:Pagename,
            Begintime:PostBeginTime,
            Endtime:PostEndTime
        },
        function(time,value){
            amountChart.setOption({
                series: [{
                    data: data
                }]
            });



        });*/

/*});*/
</script>

</body>
</html>
